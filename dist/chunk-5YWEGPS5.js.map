{"version":3,"sources":["../src/hooks.ts"],"names":[],"mappings":"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","file":"chunk-5YWEGPS5.js","sourcesContent":["/**\n * @zos-apps/config - Shared React Hooks\n * \n * Common hooks used across zOS applications to reduce boilerplate\n */\n\nimport { useState, useEffect, useCallback, useRef } from 'react';\nimport type { GameState, KeyMap, TimerState } from './types';\n\n/**\n * useKeyboard - Simplified keyboard event handling\n * \n * @example\n * ```tsx\n * useKeyboard({\n *   ArrowUp: 'up',\n *   ArrowDown: 'down', \n *   ' ': 'pause',\n * }, (action) => {\n *   if (action === 'pause') togglePause();\n *   else move(action);\n * }, { enabled: !gameOver });\n * ```\n */\nexport function useKeyboard<T extends string>(\n  keyMap: KeyMap<T>,\n  handler: (action: T, event: KeyboardEvent) => void,\n  options: { enabled?: boolean; preventDefault?: boolean } = {}\n): void {\n  const { enabled = true, preventDefault = true } = options;\n  const handlerRef = useRef(handler);\n  handlerRef.current = handler;\n\n  useEffect(() => {\n    if (!enabled) return;\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n      const action = keyMap[e.key];\n      if (action !== undefined) {\n        if (preventDefault) e.preventDefault();\n        handlerRef.current(action, e);\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [keyMap, enabled, preventDefault]);\n}\n\n/**\n * useGameLoop - Game loop with configurable interval\n * \n * @example\n * ```tsx\n * useGameLoop(() => {\n *   moveSnake();\n *   checkCollision();\n * }, 100, !isPaused && !gameOver);\n * ```\n */\nexport function useGameLoop(\n  callback: () => void,\n  interval: number,\n  enabled: boolean = true\n): void {\n  const callbackRef = useRef(callback);\n  callbackRef.current = callback;\n\n  useEffect(() => {\n    if (!enabled) return;\n\n    const id = setInterval(() => callbackRef.current(), interval);\n    return () => clearInterval(id);\n  }, [interval, enabled]);\n}\n\n/**\n * useHighScore - Persistent high score with localStorage\n * \n * @example\n * ```tsx\n * const { highScore, updateHighScore, resetHighScore } = useHighScore('snake');\n * // Later:\n * if (score > highScore) updateHighScore(score);\n * ```\n */\nexport function useHighScore(key: string, initialValue: number = 0) {\n  const storageKey = `zos-${key}-highscore`;\n  \n  const [highScore, setHighScore] = useState<number>(() => {\n    if (typeof window === 'undefined') return initialValue;\n    const saved = localStorage.getItem(storageKey);\n    return saved ? parseInt(saved, 10) : initialValue;\n  });\n\n  const updateHighScore = useCallback((score: number) => {\n    if (score > highScore) {\n      setHighScore(score);\n      localStorage.setItem(storageKey, score.toString());\n      return true;\n    }\n    return false;\n  }, [highScore, storageKey]);\n\n  const resetHighScore = useCallback(() => {\n    setHighScore(initialValue);\n    localStorage.removeItem(storageKey);\n  }, [initialValue, storageKey]);\n\n  return { highScore, updateHighScore, resetHighScore };\n}\n\n/**\n * useGameState - Common game state management\n * \n * @example\n * ```tsx\n * const { state, start, pause, resume, gameOver, reset, addScore } = useGameState();\n * ```\n */\nexport function useGameState(initialState?: Partial<GameState>) {\n  const [state, setState] = useState<GameState>({\n    score: 0,\n    level: 1,\n    isPlaying: false,\n    isPaused: true,\n    isGameOver: false,\n    ...initialState,\n  });\n\n  const start = useCallback(() => {\n    setState(s => ({ ...s, isPlaying: true, isPaused: false, isGameOver: false }));\n  }, []);\n\n  const pause = useCallback(() => {\n    setState(s => ({ ...s, isPaused: true }));\n  }, []);\n\n  const resume = useCallback(() => {\n    setState(s => ({ ...s, isPaused: false }));\n  }, []);\n\n  const togglePause = useCallback(() => {\n    setState(s => ({ ...s, isPaused: !s.isPaused }));\n  }, []);\n\n  const gameOver = useCallback(() => {\n    setState(s => ({ ...s, isPlaying: false, isGameOver: true }));\n  }, []);\n\n  const reset = useCallback(() => {\n    setState({\n      score: 0,\n      level: 1,\n      isPlaying: false,\n      isPaused: true,\n      isGameOver: false,\n      ...initialState,\n    });\n  }, [initialState]);\n\n  const addScore = useCallback((points: number) => {\n    setState(s => ({ ...s, score: s.score + points }));\n  }, []);\n\n  const setLevel = useCallback((level: number) => {\n    setState(s => ({ ...s, level }));\n  }, []);\n\n  return {\n    state,\n    start,\n    pause,\n    resume,\n    togglePause,\n    gameOver,\n    reset,\n    addScore,\n    setLevel,\n    // Convenience getters\n    score: state.score,\n    level: state.level,\n    isPlaying: state.isPlaying,\n    isPaused: state.isPaused,\n    isGameOver: state.isGameOver,\n  };\n}\n\n/**\n * useTimer - Game timer with start/stop/reset\n * \n * @example\n * ```tsx\n * const { elapsed, isRunning, start, stop, reset } = useTimer();\n * ```\n */\nexport function useTimer(autoStart: boolean = false): TimerState & {\n  start: () => void;\n  stop: () => void;\n  reset: () => void;\n  toggle: () => void;\n} {\n  const [elapsed, setElapsed] = useState(0);\n  const [isRunning, setIsRunning] = useState(autoStart);\n  const intervalRef = useRef<ReturnType<typeof setInterval> | null>(null);\n\n  useEffect(() => {\n    if (isRunning) {\n      intervalRef.current = setInterval(() => {\n        setElapsed(t => t + 1);\n      }, 1000);\n    } else if (intervalRef.current) {\n      clearInterval(intervalRef.current);\n    }\n    return () => {\n      if (intervalRef.current) clearInterval(intervalRef.current);\n    };\n  }, [isRunning]);\n\n  const start = useCallback(() => setIsRunning(true), []);\n  const stop = useCallback(() => setIsRunning(false), []);\n  const reset = useCallback(() => {\n    setElapsed(0);\n    setIsRunning(false);\n  }, []);\n  const toggle = useCallback(() => setIsRunning(r => !r), []);\n\n  return { elapsed, isRunning, start, stop, reset, toggle };\n}\n\n/**\n * useLocalStorage - Generic localStorage hook with type safety\n * \n * @example\n * ```tsx\n * const [settings, setSettings] = useLocalStorage('game-settings', defaultSettings);\n * ```\n */\nexport function useLocalStorage<T>(\n  key: string,\n  initialValue: T\n): [T, (value: T | ((prev: T) => T)) => void] {\n  const storageKey = `zos-${key}`;\n\n  const [storedValue, setStoredValue] = useState<T>(() => {\n    if (typeof window === 'undefined') return initialValue;\n    try {\n      const item = localStorage.getItem(storageKey);\n      return item ? JSON.parse(item) : initialValue;\n    } catch {\n      return initialValue;\n    }\n  });\n\n  const setValue = useCallback((value: T | ((prev: T) => T)) => {\n    setStoredValue(prev => {\n      const nextValue = value instanceof Function ? value(prev) : value;\n      try {\n        localStorage.setItem(storageKey, JSON.stringify(nextValue));\n      } catch (e) {\n        console.warn(`Failed to save to localStorage:`, e);\n      }\n      return nextValue;\n    });\n  }, [storageKey]);\n\n  return [storedValue, setValue];\n}\n\n/**\n * useAnimationFrame - RequestAnimationFrame hook for smooth animations\n * \n * @example\n * ```tsx\n * useAnimationFrame((deltaTime) => {\n *   updatePosition(deltaTime);\n * }, isAnimating);\n * ```\n */\nexport function useAnimationFrame(\n  callback: (deltaTime: number) => void,\n  enabled: boolean = true\n): void {\n  const callbackRef = useRef(callback);\n  const previousTimeRef = useRef<number>();\n  const frameRef = useRef<number>();\n\n  callbackRef.current = callback;\n\n  useEffect(() => {\n    if (!enabled) return;\n\n    const animate = (time: number) => {\n      if (previousTimeRef.current !== undefined) {\n        const deltaTime = time - previousTimeRef.current;\n        callbackRef.current(deltaTime);\n      }\n      previousTimeRef.current = time;\n      frameRef.current = requestAnimationFrame(animate);\n    };\n\n    frameRef.current = requestAnimationFrame(animate);\n\n    return () => {\n      if (frameRef.current) {\n        cancelAnimationFrame(frameRef.current);\n      }\n    };\n  }, [enabled]);\n}\n\n/**\n * useGrid - Create and manage a 2D grid\n * \n * @example\n * ```tsx\n * const { grid, setCell, getCell, fill, clear } = useGrid(10, 20, null);\n * ```\n */\nexport function useGrid<T>(\n  width: number,\n  height: number,\n  initialValue: T\n) {\n  const createGrid = useCallback(() => \n    Array(height).fill(null).map(() => Array(width).fill(initialValue)),\n    [width, height, initialValue]\n  );\n\n  const [grid, setGrid] = useState<T[][]>(createGrid);\n\n  const setCell = useCallback((x: number, y: number, value: T) => {\n    setGrid(g => {\n      const newGrid = g.map(row => [...row]);\n      if (y >= 0 && y < height && x >= 0 && x < width) {\n        newGrid[y][x] = value;\n      }\n      return newGrid;\n    });\n  }, [width, height]);\n\n  const getCell = useCallback((x: number, y: number): T | undefined => {\n    if (y >= 0 && y < height && x >= 0 && x < width) {\n      return grid[y][x];\n    }\n    return undefined;\n  }, [grid, width, height]);\n\n  const fill = useCallback((value: T) => {\n    setGrid(Array(height).fill(null).map(() => Array(width).fill(value)));\n  }, [width, height]);\n\n  const clear = useCallback(() => {\n    setGrid(createGrid());\n  }, [createGrid]);\n\n  return { grid, setGrid, setCell, getCell, fill, clear };\n}\n\n/**\n * useWindowSize - Track window dimensions for responsive layouts\n *\n * @example\n * ```tsx\n * const { width, height, isMobile, isTablet, isDesktop } = useWindowSize();\n *\n * return isMobile ? <MobileLayout /> : <DesktopLayout />;\n * ```\n */\nexport function useWindowSize() {\n  const [size, setSize] = useState(() => ({\n    width: typeof window !== 'undefined' ? window.innerWidth : 1024,\n    height: typeof window !== 'undefined' ? window.innerHeight : 768,\n  }));\n\n  useEffect(() => {\n    const handleResize = () => {\n      setSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return {\n    width: size.width,\n    height: size.height,\n    isMobile: size.width < 768,\n    isTablet: size.width >= 768 && size.width < 1024,\n    isDesktop: size.width >= 1024,\n  };\n}\n\n/**\n * useDebounce - Debounce a value or callback\n *\n * @example\n * ```tsx\n * // Debounce a value\n * const [query, setQuery] = useState('');\n * const debouncedQuery = useDebounce(query, 300);\n *\n * useEffect(() => {\n *   search(debouncedQuery);\n * }, [debouncedQuery]);\n * ```\n */\nexport function useDebounce<T>(value: T, delay: number): T {\n  const [debouncedValue, setDebouncedValue] = useState<T>(value);\n\n  useEffect(() => {\n    const timer = setTimeout(() => setDebouncedValue(value), delay);\n    return () => clearTimeout(timer);\n  }, [value, delay]);\n\n  return debouncedValue;\n}\n\n/**\n * usePrevious - Track the previous value of a state\n *\n * @example\n * ```tsx\n * const [count, setCount] = useState(0);\n * const prevCount = usePrevious(count);\n * // prevCount is the value of count before the last render\n * ```\n */\nexport function usePrevious<T>(value: T): T | undefined {\n  const ref = useRef<T>();\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\n"]}